import { createElement, useEffect } from '<%- framework %>';
<% if(isRax){ %>
  import { withRouter as defaultWithRouter } from 'rax-use-router';
<% } else { %>
  import { withRouter as defaultWithRouter } from 'react-router';
<% } %>
import createShareAPI from 'create-app-shared';
import loadRuntimeModules from './loadRuntimeModules';
import loadStaticModules from './loadStaticModules';
import staticConfig from './staticConfig';

const {
  createBaseApp,
  withRouter,
  createHistory,
  getHistory,
  emitLifeCycles,
  usePageShow,
  usePageHide,
  withPageLifeCycle,
  pathRedirect,
  registerNativeEventListeners,
  addNativeEventListener,
  removeNativeEventListener,
} = createShareAPI({
  createElement,
  useEffect,
  withRouter: defaultWithRouter,
  loadRuntimeModules,
  loadStaticModules
});

export {
  createBaseApp,
  staticConfig,
  withRouter,
  createHistory,
  getHistory,
  emitLifeCycles,
  usePageShow,
  usePageHide,
  withPageLifeCycle,
  pathRedirect,
  registerNativeEventListeners,
  addNativeEventListener,
  removeNativeEventListener
}
