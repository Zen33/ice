import { isMiniApp, isWeChatMiniProgram, isByteDanceMicroApp } from 'universal-env';
import { createApp, createHistory } from './common';
import staticConfig from './common/staticConfig';

function renderMiniApp(appConfig = {}) {
  const env = { isMiniApp, isWeChatMiniProgram, isByteDanceMicroApp };
  createApp(appConfig, <%- buildConfig %>, { env });
  createHistory({ routes: staticConfig.routes });
}

export default renderMiniApp;
